<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì•ˆì „ë³´ê±´ ëŒ€ì‹œë³´ë“œ | ì•ˆì „í–‰ì •ì„¹ì…˜</title>
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <style>
    :root{
      --bg:#f6f7fb; --card:#fff; --text:#111827; --muted:#6b7280; --line:#e5e7eb;
      --brand:#2f6ae0; --brand-100:#e7efff; --sidebar:#0f172a; --ok:#22c55e; --warn:#f59e0b; --danger:#ef4444; --radius:16px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:"Malgun Gothic","Apple SD Gothic Neo",system-ui,Segoe UI,Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:inherit;text-decoration:none}

    /* ===== ë¡œê·¸ì¸ ë ˆì´ì–´ ===== */
    #login-layer{position:fixed;inset:0;background:linear-gradient(135deg,#eff6ff,#f8fafc);display:flex;align-items:center;justify-content:center;z-index:1000}
    .login-box{width:360px;background:#fff;border:1px solid var(--line);border-radius:18px;padding:24px;box-shadow:0 8px 30px rgba(15,23,42,.08)}
    .login-box h2{margin:0 0 10px 0;font-size:20px}
    .login-desc{font-size:12px;color:#64748b;margin-bottom:14px}
    .form{display:flex;flex-direction:column;gap:10px}
    .input{border:1px solid var(--line);border-radius:12px;padding:10px}
    .btn-primary{background:var(--brand);color:#fff;border:none;border-radius:12px;padding:10px;cursor:pointer}
    .error{display:none;color:#ef4444;font-size:12px;text-align:center;margin-top:6px}

    /* ===== ì•± ë ˆì´ì•„ì›ƒ ===== */
    .app{display:grid;grid-template-columns:80px 1fr;grid-template-rows:60px 1fr;height:100vh}
    .topbar{grid-column:1/3;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;background:#fff;border-bottom:1px solid var(--line)}
    .tb-left{display:flex;gap:10px;align-items:center}
    .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(135deg,var(--brand),#7c3aed);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}
    .tb-title{font-weight:700}
    .tb-right{display:flex;flex-direction:column;align-items:flex-end;gap:4px}
    .welcome{font-size:12px;color:#475569;line-height:1}
    .logout{border:1px solid #1f2937;background:#111827;color:#fff;padding:4px 8px;border-radius:6px;font-size:11px;line-height:1;cursor:pointer}

    .sidebar{grid-row:2/3;background:var(--sidebar);color:#e5e7eb;display:flex;flex-direction:column;align-items:center;padding:10px 8px;gap:8px}
    .nav-item{width:64px;height:64px;border-radius:14px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:6px;color:#cbd5e1;cursor:pointer;border:1px solid transparent}
    .nav-item:hover{background:#0b1220;border-color:#1f2937}
    .nav-item.active{background:#0b1220;color:#fff;border-color:#334155}
    .nav-ico{font-size:18px}
    .nav-t{font-size:11px}

    .main{grid-column:2/3;grid-row:2/3;overflow:auto;padding:18px}

    /* ===== ê³µí†µ ì¹´ë“œ ===== */
    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:16px}
    .card h3{margin:0 0 12px;font-size:16px}

    /* ===== ë©”ì¸(Home) ===== */
    .hero{height:140px;border-radius:var(--radius);background:linear-gradient(120deg,#e9efff,#f8fafc);display:flex;align-items:center;justify-content:center}
    .hero h1{font-size:26px;letter-spacing:-.3px}
    .grid{display:grid;grid-template-columns:2fr 1fr;gap:18px;margin-top:18px}
    .pill{font-size:12px;color:#475569;background:#f1f5f9;border:1px solid var(--line);padding:4px 8px;border-radius:999px}
    .progress-wrap{display:grid;grid-template-columns:160px 1fr;gap:16px;align-items:center}
    .kpis{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .kpi{display:flex;align-items:center;gap:8px;border:1px dashed #e5e7eb;padding:8px;border-radius:12px;cursor:pointer}
    .kpi .dot{width:10px;height:10px;border-radius:50%}
    .kpi .name{font-size:13px;color:#334155}
    .kpi .status{margin-left:auto;font-size:12px}
    .kpi:hover{background:#f8fafc}
    .kpi.ok .status{color:var(--ok)} .kpi.warn .status{color:var(--warn)}
    .tiles{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-top:10px}
    .tile{border:1px solid var(--line);border-radius:12px;padding:12px;background:#fbfdff;cursor:pointer}
    .tile:hover{background:var(--brand-100)}
    .note{margin-top:12px;font-size:12px;color:var(--muted)}
    .cal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px}
    .cal-grid{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
    .cal-grid div{height:34px;background:#f8fafc;border:1px solid var(--line);border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:12px;color:#475569}
    .cal-grid .today{outline:2px solid var(--brand)}

    /* ===== ì‚¬ì—…ì¥(Biz) ===== */
    .biz-header{position:relative;background:#e5e7eb;border-radius:16px;overflow:hidden;margin-bottom:14px}
    .biz-cover{height:140px;background:linear-gradient(120deg,#dbeafe,#f8fafc)}
    .biz-row{display:flex;gap:16px;align-items:flex-end;position:relative;margin-top:-40px;padding:0 16px 16px}
    .biz-avatar{width:96px;height:96px;border-radius:12px;border:4px solid #fff;background:#cbd5e1;display:flex;align-items:center;justify-content:center;font-weight:700}
    .biz-title{flex:1}
    .biz-title .name{font-size:22px;font-weight:800}
    .biz-title .no{font-size:12px;color:#64748b;margin-left:8px}
    .biz-actions{display:flex;gap:8px}
    .btn{border:1px solid var(--line);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
    .biz-grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .info-list{display:grid;gap:10px}
    .info-row{display:flex;gap:10px;align-items:flex-start}
    .icon{width:22px;text-align:center;opacity:.75}
    .muted{color:#64748b;font-size:12px}
    .section{margin-top:16px}
    .section-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}
    .kpi-row{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
    .kpi-tile{background:#fbfdff;border:1px solid var(--line);border-radius:12px;padding:12px}
    .kpi-t{font-size:12px;color:#64748b}
    .kpi-v{font-size:18px;font-weight:800;margin-top:4px}
    @media (max-width: 960px){.biz-grid{grid-template-columns:1fr}.kpi-row{grid-template-columns:repeat(2,1fr)}}

    /* ===== ê·¼ë¡œì í…Œì´ë¸” ===== */
    .emp-wrap{margin-top:14px}
    .emp-bar{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin:8px 0}
    .emp-inputs{display:flex;gap:8px;flex-wrap:wrap}
    .emp-inputs input, .emp-inputs select{padding:8px;border:1px solid var(--line);border-radius:8px;min-width:120px}
    .btn-sm{padding:6px 10px;border-radius:8px;border:1px solid var(--line);background:#fff;cursor:pointer}
    .btn-pri{background:var(--brand);color:#fff;border:none}
    .btn-danger{background:#ef4444;color:#fff;border:none}
    table{width:100%;border-collapse:collapse}
    th,td{border:1px solid var(--line);padding:8px;text-align:center;font-size:14px}
    th{background:#f1f5f9}

    /* í˜ì´ì§€ í‘œì‹œ/ìˆ¨ê¹€ */
    .page{display:none}
    .page.active{display:block}
    .link{cursor:pointer}
  </style>
</head>
<body>
  <!-- ë¡œê·¸ì¸ ë ˆì´ì–´ -->
  <div id="login-layer">
    <div class="login-box">
      <h2>ë¡œê·¸ì¸</h2>
      <div class="login-desc">ì ‘ì†ì„ ìœ„í•´ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.</div>
      <div class="form">
        <input id="id" class="input" placeholder="ì•„ì´ë””" autocomplete="off" />
        <input id="pw" class="input" type="password" placeholder="ë¹„ë°€ë²ˆí˜¸" autocomplete="off" />
        <button id="login" class="btn-primary">ë¡œê·¸ì¸</button>
        <div id="err" class="error">ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.</div>
      </div>
    </div>
  </div>

  <!-- ì•± -->
  <div class="app" id="app" style="display:none">
    <div class="topbar">
      <div class="tb-left">
        <div class="logo">S</div>
        <div class="tb-title">ì•ˆì „ë³´ê±´ê´€ë¦¬ì²´ê³„ í¬í„¸</div>
      </div>
      <div class="tb-right">
        <div class="welcome">'ì´ë‹¨ìš°' ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤.</div>
        <button class="logout" id="btn-logout">ë¡œê·¸ì•„ì›ƒ</button>
      </div>
    </div>

    <!-- ì‚¬ì´ë“œë°” -->
    <aside class="sidebar">
      <div class="nav-item active" data-page="home" title="ë©”ì¸"><div class="nav-ico">ğŸ </div><div class="nav-t">ë©”ì¸</div></div>
      <div class="nav-item" data-page="biz" title="ì‚¬ì—…ì¥ ê´€ë¦¬"><div class="nav-ico">ğŸ­</div><div class="nav-t">ì‚¬ì—…ì¥ ê´€ë¦¬</div></div>
      <div class="nav-item" data-page="work" title="ì‘ì—… ê´€ë¦¬"><div class="nav-ico">ğŸ› ï¸</div><div class="nav-t">ì‘ì—…</div></div>
      <div class="nav-item" data-page="law" title="ì‚°ì—…ì•ˆì „ë³´ê±´ë²•"><div class="nav-ico">ğŸ“š</div><div class="nav-t">ë²•ë ¹</div></div>
      <div class="nav-item" data-page="counsel" title="ì•ˆì „ë¬¸ë‹µ/ê²Œì‹œíŒ"><div class="nav-ico">ğŸ’¬</div><div class="nav-t">ë¬¸ë‹µ</div></div>
      <div class="nav-item" data-page="report" title="ì»¨ì„¤íŒ… ë³´ê³ ì„œ"><div class="nav-ico">ğŸ“„</div><div class="nav-t">ë³´ê³ ì„œ</div></div>
      <div class="nav-item" data-page="data" title="ë°ì´í„°ì„¼í„°"><div class="nav-ico">ğŸ“Š</div><div class="nav-t">ë°ì´í„°</div></div>
    </aside>

    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <main class="main">
      <!-- ===== Home ===== -->
      <section class="page active" id="page-home">
        <section class="hero"><h1>ì•ˆì „ì˜ ì‹œì‘ì€ "í˜„ì¥"</h1></section>
        <div class="grid">
          <div class="card">
            <h3>ì‚¬ì—…ì¥ ì•ˆì „ë³´ê±´ê´€ë¦¬ì²´ê³„</h3>
            <div class="pill">ê¸°ë³¸ ì•ˆì „ë³´ê±´ê´€ë¦¬ì²´ê³„ êµ¬ì¶• ì§„í–‰</div>
            <div class="progress-wrap" style="margin-top:14px">
              <svg width="160" height="160" viewBox="0 0 120 120" aria-label="ì§„í–‰ë¥  62.5%">
                <circle cx="60" cy="60" r="50" fill="none" stroke="#eef2ff" stroke-width="14"/>
                <circle cx="60" cy="60" r="50" fill="none" stroke="var(--brand)" stroke-width="14" stroke-linecap="round" stroke-dasharray="314" stroke-dashoffset="calc(314 - 314*0.625)"/>
                <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle" font-size="18" fill="#334155">62.5%</text>
              </svg>
              <div class="kpis">
                <div class="kpi warn link" data-link="ì¡°ì§"><span class="dot" style="background:var(--warn)"></span><span class="name">ì•ˆì „ë³´ê±´ê´€ë¦¬ ì¡°ì§</span><span class="status">ë“±ë¡ í•„ìš”</span></div>
                <div class="kpi ok link" data-link="ê²½ì˜ë°©ì¹¨"><span class="dot" style="background:var(--ok)"></span><span class="name">ì•ˆì „ë³´ê±´ ê²½ì˜ë°©ì¹¨</span><span class="status">ì™„ë£Œ</span></div>
                <div class="kpi ok link" data-link="ëª©í‘œ"><span class="dot" style="background:var(--ok)"></span><span class="name">ì•ˆì „ë³´ê±´ ëª©í‘œ</span><span class="status">ì™„ë£Œ</span></div>
                <div class="kpi warn link" data-link="ìœ„ì›íšŒ"><span class="dot" style="background:var(--warn)"></span><span class="name">ì‚°ì—…ì•ˆì „ë³´ê±´ìœ„ì›íšŒ</span><span class="status">ë¯¸ë“±ë¡</span></div>
                <div class="kpi link" data-link="ì˜ˆì‚°"><span class="dot" style="background:#60a5fa"></span><span class="name">ì•ˆì „ë³´ê±´ ì˜ˆì‚° í¸ì„±</span><span class="status">ë“±ë¡</span></div>
                <div class="kpi ok link" data-link="ê´€ë ¨ì¡°ì¹˜"><span class="dot" style="background:var(--ok)"></span><span class="name">ì•ˆì „ë³´ê±´ ê´€ë ¨ì¡°ì¹˜</span><span class="status">ì™„ë£Œ</span></div>
              </div>
              <div class="tiles">
                <div class="tile link" data-link="ë¬¸ì„œí•¨">ğŸ“‚ ê²°ì¬í•´ì•¼ í•˜ëŠ” ë¬¸ì„œ</div>
                <div class="tile link" data-link="ë„ì›€ì—…ë¬´">ğŸ§° ìš”ì²­ë°›ì€ ë„ì›€ ì—…ë¬´</div>
              </div>
              <div class="note">ê° í•­ëª©ì„ í´ë¦­í•˜ë©´ ê´€ë ¨ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.</div>
            </div>
          </div>
          <div class="card">
            <div class="cal-header"><strong>ì¼ì •</strong><div><button class="btn-sm" id="btn-today">ì˜¤ëŠ˜</button><button class="btn-sm" id="btn-add">+ ì¼ì • ë“±ë¡í•˜ê¸°</button></div></div>
            <div style="font-size:12px;color:#475569;margin-bottom:6px" id="cal-month"></div>
            <div class="cal-grid" id="cal-grid"></div>
          </div>
        </div>
      </section>

      <!-- ===== Biz (í”„ë¡œí•„í˜•) ===== -->
      <section id="page-biz" class="page">
        <div class="biz-header card">
          <div class="biz-cover"></div>
          <div class="biz-row">
            <div class="biz-avatar">IMG</div>
            <div class="biz-title">
              <div class="name">í¬ìŠ¤ì›° <span class="no">[10018210]</span></div>
              <div class="muted">ë²•ì¸ëª…(ë‹¨ì²´ëª…): (ì‚¬)ìƒˆë§ˆì„ë³µì§€íšŒ</div>
            </div>
            <div class="biz-actions">
              <button class="btn">ìŠ¤ë§ˆíŠ¸ ë³´ê³ ì„œ ì¸ì¦ í˜„í™©</button>
              <button class="btn">ì‚¬ì—…ì¥ ì„¤ì •</button>
            </div>
          </div>
        </div>

        <div class="biz-grid">
          <div class="card"><h3>ê¸°ë³¸ ì •ë³´</h3>
            <div class="info-list">
              <div class="info-row"><div class="icon">ğŸ‘¤</div><div><strong>ëŒ€í‘œ</strong> ê¹€ì‚¼ë½</div></div>
              <div class="info-row"><div class="icon">ğŸ‘¥</div><div><strong>ê·¼ë¡œììˆ˜</strong> 100ëª…</div></div>
              <div class="info-row"><div class="icon">ğŸ“</div><div>054-221-9145</div></div>
              <div class="info-row"><div class="icon">ğŸ“ </div><div>054-221-9199</div></div>
              <div class="info-row"><div class="icon">ğŸ“</div><div>ê²½ìƒë¶ë„ í¬í•­ì‹œ ë‚¨êµ¬ í‰ë³´ê¸¸ 21(ëŒ€ì ë™) í¬ìŠ¤ì›°</div></div>
              <div class="info-row"><div class="icon">ğŸ§¾</div><div>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ 506-82-02496 <a href="#" class="muted">(í†µì‹ íŒë§¤ì—…)</a></div></div>
            </div>
          </div>
          <div class="card"><h3>ë¶„ë¥˜ ì •ë³´</h3>
            <div class="info-list">
              <div class="info-row"><div class="icon">ğŸ·ï¸</div><div><strong>í•œêµ­í‘œì¤€ì‚°ì—…ë¶„ë¥˜</strong><br>55909 | ê·¸ ì™¸ ê¸°íƒ€ ìˆ™ë°•ì—…</div></div>
              <div class="info-row"><div class="icon">ğŸ·ï¸</div><div><strong>ì‚°ì—…ì¬í•´ë³´ìƒë³´í—˜ì—…ë¬´</strong><br>910 | ë„ì†Œë§¤Â·ìŒì‹Â·ìˆ™ë°•ì—…</div></div>
              <div class="info-row"><div class="icon">ğŸ“„</div><div><strong>ê´€í•  ì§€ìì²´/ê³ ìš©ë…¸ë™ë¶€</strong><br>í¬í•­ì‹œì²­</div></div>
              <div class="info-row"><div class="icon">ğŸ¢</div><div><strong>ê´€í•  ëŒ€í•œì‚°ì—…ì•ˆì „í˜‘íšŒ</strong><br>í¬í•­ì§€íšŒ</div></div>
            </div>
          </div>
        </div>

        <div class="section card">
          <div class="section-head">
            <strong>ë¶€ì„œ ë° ê·¼ë¡œì ì •ë³´</strong>
            <button id="openEmpPanel" class="btn-sm">ë¶€ì„œ ë° ê·¼ë¡œì ì •ë³´ ë³´ê¸° ã€‰</button>
          </div>

          <!-- ê·¼ë¡œì íŒ¨ë„ -->
          <div id="empPanel" class="emp-wrap" style="display:none">
            <div class="section-head">
              <h3 style="margin:0">ê·¼ë¡œì ì •ë³´ ì¶”ê°€</h3>
              <div class="emp-bar">
                <button id="selDeleteBtn" class="btn-danger">ì„ íƒì‚­ì œ</button>
              </div>
            </div>
            <div class="emp-inputs" style="margin-bottom:8px">
              <input id="empNo" placeholder="ì§ë²ˆ(6ìë¦¬ ìˆ«ì)" />
              <input id="empName" placeholder="ì´ë¦„(2~4ì)" />
              <select id="empDept">
                <option value="">ë¶€ì„œ ì„ íƒ</option>
                <option>ê²½ì˜ì§€ì›ê·¸ë£¹</option>
                <option>ì•ˆì „í–‰ì •ì„¹ì…˜</option>
                <option>ì¬ë¬´ê¸°íšì„¹ì…˜</option>
                <option>CSì‚¬ì—…ê·¸ë£¹</option>
                <option>FSì‚¬ì—…ê·¸ë£¹</option>
              </select>
              <input id="empRank" placeholder="ì§ê¸‰(í•œê¸€ë§Œ)" />
              <button id="addEmpBtn" class="btn-pri">ì¶”ê°€</button>
            </div>

            <div class="table-wrap">
              <table>
                <thead>
                  <tr>
                    <th style="width:44px"><input type="checkbox" id="checkAll" /></th>
                    <th>ì§ë²ˆ</th>
                    <th>ì´ë¦„</th>
                    <th>ë¶€ì„œ</th>
                    <th>ì§ê¸‰</th>
                  </tr>
                </thead>
                <tbody id="empTbody"></tbody>
              </table>
            </div>
          </div>
          <!-- /ê·¼ë¡œì íŒ¨ë„ -->
        </div>
      </section>

      <!-- ===== ë‚˜ë¨¸ì§€ í˜ì´ì§€(ê°„ë‹¨ í…œí”Œë¦¿) ===== -->
      <section id="page-work" class="page"><div class="card"><h3>ì‘ì—… ê´€ë¦¬</h3><p>ì‘ì—…/ê³µì •, í—ˆê°€ì„œ ë“±ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p></div></section>
      <section id="page-law" class="page"><div class="card"><h3>ì‚°ì—…ì•ˆì „ë³´ê±´ë²•</h3><p>ê´€ë ¨ ë²•ë ¹/ì§€ì¹¨ ë§í¬ë¥¼ êµ¬ì„±í•©ë‹ˆë‹¤.</p></div></section>
      <section id="page-counsel" class="page"><div class="card"><h3>ì•ˆì „ë¬¸ë‹µ/ê²Œì‹œíŒ</h3><p>Q&A ë° ê³µì§€ ê²Œì‹œíŒ.</p></div></section>
      <section id="page-report" class="page"><div class="card"><h3>ì»¨ì„¤íŒ… ë³´ê³ ì„œ</h3><p>ë³´ê³ ì„œ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ.</p></div></section>
      <section id="page-data" class="page"><div class="card"><h3>ë°ì´í„°ì„¼í„°</h3><p>ì§€í‘œ/í†µê³„ ëŒ€ì‹œë³´ë“œ.</p></div></section>
    </main>
  </div>

  <script>
    // ===== ë¡œê·¸ì¸ ì²˜ë¦¬ =====
    const L=document.getElementById('login-layer');
    const A=document.getElementById('app');
    const id=document.getElementById('id');
    const pw=document.getElementById('pw');
    const err=document.getElementById('err');
    function showApp(){L.style.display='none';A.style.display='grid';}
    function showLogin(){A.style.display='none';L.style.display='flex';id.value='';pw.value='';err.style.display='none';}
    function doLogin(){ if(id.value.trim()==='poswel'&&pw.value==='poswel'){sessionStorage.setItem('signed','1');showApp();} else {err.style.display='block';} }
    document.getElementById('login').addEventListener('click',doLogin);
    [id,pw].forEach(el=>el.addEventListener('keydown',e=>{if(e.key==='Enter')doLogin();}));
    if(sessionStorage.getItem('signed')==='1')showApp();
    document.getElementById('btn-logout').addEventListener('click',()=>{sessionStorage.removeItem('signed');history.replaceState(null,'',location.pathname);showLogin();});

    // ===== ë¼ìš°í„° =====
    const pages={home:'page-home',biz:'page-biz',work:'page-work',law:'page-law',counsel:'page-counsel',report:'page-report',data:'page-data'};
    function go(page){ Object.values(pages).forEach(id=>document.getElementById(id).classList.remove('active')); document.getElementById(pages[page]).classList.add('active'); document.querySelectorAll('.nav-item').forEach(n=>n.classList.remove('active')); document.querySelector(`.nav-item[data-page="${page}"]`).classList.add('active'); window.location.hash=page; }
    document.querySelectorAll('.nav-item').forEach(n=>n.addEventListener('click',()=>go(n.dataset.page)));
    window.addEventListener('load',()=>{ const h=location.hash.replace('#',''); go(pages[h]?h:'home'); });

    // í™ˆ í™”ë©´ ë‹¬ë ¥
    const calGrid=document.getElementById('cal-grid'); const calMonth=document.getElementById('cal-month');
    function renderCalendar(d=new Date()){ if(!calGrid) return; calGrid.innerHTML=''; const y=d.getFullYear(), m=d.getMonth(); calMonth.textContent=`${y}ë…„ ${m+1}ì›”`; const first=new Date(y,m,1), last=new Date(y,m+1,0); const offset=first.getDay(); for(let i=0;i<offset;i++){const c=document.createElement('div'); calGrid.appendChild(c);} for(let day=1; day<=last.getDate(); day++){ const cell=document.createElement('div'); cell.textContent=day; const today=new Date(); if(day===today.getDate()&&m===today.getMonth()&&y===today.getFullYear()) cell.classList.add('today'); calGrid.appendChild(cell);} }
    renderCalendar();
    const todayBtn=document.getElementById('btn-today'); const addBtn=document.getElementById('btn-add');
    if(todayBtn) todayBtn.addEventListener('click',()=>renderCalendar(new Date()));
    if(addBtn) addBtn.addEventListener('click',()=>alert('ì¼ì • ë“±ë¡ í¼ì€ ì¶”í›„ ì—°ê²°'));

    // ===== ê·¼ë¡œì ê´€ë¦¬(ì‚¬ì—…ì¥ ê´€ë¦¬ ë‚´) =====
    const openEmpPanel=document.getElementById('openEmpPanel');
    const empPanel=document.getElementById('empPanel');
    const empTbody=document.getElementById('empTbody');
    const addEmpBtn=document.getElementById('addEmpBtn');
    const selDeleteBtn=document.getElementById('selDeleteBtn');
    const checkAll=document.getElementById('checkAll');

    // ì €ì¥ í‚¤ (ê´€ë¦¬ì=poswel ì „ìš©). ê¸°ì¡´ 'employees' í‚¤ë¥¼ ì“°ë˜ ë°ì´í„°ê°€ ìˆìœ¼ë©´ ë§ˆì´ê·¸ë ˆì´ì…˜
    const EMP_KEY = 'employees_poswel';
    (function migrateEmployees(){
      try{
        const old = localStorage.getItem('employees');
        if(old && !localStorage.getItem(EMP_KEY)){
          localStorage.setItem(EMP_KEY, old);
        }
      }catch(e){}
    })();

    function getEmployees(){
      try { return JSON.parse(localStorage.getItem(EMP_KEY)||'[]'); } catch(e){ return []; }
    }
    function setEmployees(list){ localStorage.setItem(EMP_KEY, JSON.stringify(list)); }

    function renderEmp(){
      const list = getEmployees();
      empTbody.innerHTML = '';
      list.forEach((emp, idx)=>{
        const tr=document.createElement('tr');
        tr.innerHTML = `
          <td><input type="checkbox" class="emp-check" data-index="${idx}"></td>
          <td>${emp.no}</td>
          <td>${emp.name}</td>
          <td>${emp.dept}</td>
          <td>${emp.rank}</td>`;
        empTbody.appendChild(tr);
      });
      checkAll.checked=false;
    }

    // íŒ¨ë„ í† ê¸€ (í¼ì¹˜ê¸°/ì ‘ê¸°) â€” ë²„íŠ¼ ë¼ë²¨ì€ í•­ìƒ ë™ì¼í•˜ê²Œ ìœ ì§€
    function togglePanel(){
      const isHidden = empPanel.style.display==='none' || empPanel.style.display==='';
      empPanel.style.display = isHidden ? 'block' : 'none';
      if(isHidden) renderEmp();
      openEmpPanel.textContent='ë¶€ì„œ ë° ê·¼ë¡œì ì •ë³´ ë³´ê¸° ã€‰';
    }
    openEmpPanel.addEventListener('click', togglePanel);

    // ì…ë ¥ê²€ì¦ + ì¶”ê°€
    addEmpBtn.addEventListener('click', ()=>{
      const no=document.getElementById('empNo').value.trim();
      const name=document.getElementById('empName').value.trim();
      const dept=document.getElementById('empDept').value;
      const rank=document.getElementById('empRank').value.trim();

      if(!/^\d{6}$/.test(no)) { alert('ì§ë²ˆì€ 6ìë¦¬ ìˆ«ìì—¬ì•¼ í•©ë‹ˆë‹¤.'); return; }
      if(name.length<2 || name.length>4) { alert('ì´ë¦„ì€ 2~4ê¸€ìì—¬ì•¼ í•©ë‹ˆë‹¤.'); return; }
      if(!dept) { alert('ë¶€ì„œë¥¼ ì„ íƒí•˜ì„¸ìš”.'); return; }
      if(!/^[ê°€-í£]+$/.test(rank)) { alert('ì •í™•í•œ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”'); return; }

      const list=getEmployees();
      list.push({no,name,dept,rank});
      setEmployees(list);
      ['empNo','empName','empRank'].forEach(i=>document.getElementById(i).value='');
      document.getElementById('empDept').value='';
      renderEmp();
    });

    // ì„ íƒì‚­ì œ (ì²´í¬ëœ í•­ëª©ë§Œ ì‚­ì œ)
    selDeleteBtn.addEventListener('click', ()=>{
      const checks=[...document.querySelectorAll('.emp-check:checked')];
      if(checks.length===0){ alert('ì‚­ì œí•  ê·¼ë¡œìë¥¼ ì„ íƒí•˜ì„¸ìš”.'); return; }
      if(!confirm('ì„ íƒí•œ ê·¼ë¡œìë¥¼ ì‚­ì œí• ê¹Œìš”?')) return;
      const toDelIdx = new Set(checks.map(c=>parseInt(c.dataset.index)));
      const list=getEmployees().filter((_,i)=>!toDelIdx.has(i));
      setEmployees(list);
      renderEmp();
    });

    // ì „ì²´ ì²´í¬ë°•ìŠ¤ ë™ê¸°í™”
    checkAll.addEventListener('change', ()=>{
      document.querySelectorAll('.emp-check').forEach(c=>c.checked = checkAll.checked);
    });
    empTbody.addEventListener('change', (e)=>{
      if(e.target && e.target.classList.contains('emp-check')){
        const boxes=[...document.querySelectorAll('.emp-check')];
        checkAll.checked = boxes.length>0 && boxes.every(b=>b.checked);
      }
    });
  </script>
</body>
</html>
